>å¾®ä¿¡å…¬ä¼—å·ï¼š**[AIå¥è‡ªä¹ å®¤]**  
>å…³æ³¨Cryptoä¸ŽLLMæŠ€æœ¯ã€å…³æ³¨`AI-StudyLab`ã€‚é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·å…¬ä¼—å·ç•™è¨€ã€‚

# ðŸš€ 2026å¹´æœ¬åœ°ç¿»è¯‘ç¥žå™¨ï¼šTranslateGemma å…¨æ ˆéƒ¨ç½²æŒ‡å— | Web UI + API + MCP + CLI å››åˆä¸€

>[!info]
>ðŸ“Œ **é¡¹ç›®åœ°å€**: https://github.com/neosun100/translategemma  
>ðŸ³ **Docker Hub**: https://hub.docker.com/r/neosun/translategemma  
>ðŸ‘¨â€ðŸ’» **ä½œè€…**: Neo å­« | AWS HK

> ðŸ’¡ **æ ¸å¿ƒä»·å€¼**: ä¸€ä¸ªå‘½ä»¤å¯åŠ¨æœ¬åœ° AI ç¿»è¯‘æœåŠ¡ï¼Œæ”¯æŒ 55 ç§è¯­è¨€ã€Web UIã€REST APIã€MCP é›†æˆã€CLI å·¥å…·ï¼Œ82GB All-in-One Docker é•œåƒå†…ç½®å…¨éƒ¨ 6 ä¸ªæ¨¡åž‹ï¼Œæ— éœ€è”ç½‘ä¸‹è½½ï¼Œå¼€ç®±å³ç”¨ï¼

![TranslateGemma Web UI](https://raw.githubusercontent.com/neosun100/translategemma/main/docs/screenshot.png)

---

## ðŸŽ¯ ä¸ºä»€ä¹ˆä½ éœ€è¦ TranslateGemmaï¼Ÿ

**ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™äº›ç—›ç‚¹ï¼Ÿ**

- ðŸ”’ ç¿»è¯‘æ•æ„Ÿæ–‡æ¡£ä¸æƒ³ä¸Šä¼ åˆ°äº‘ç«¯ï¼Ÿ
- ðŸ’° å•†ä¸šç¿»è¯‘ API æŒ‰å­—ç¬¦æ”¶è´¹å¤ªè´µï¼Ÿ
- ðŸŒ éœ€è¦æ”¯æŒç²¤è¯­ã€ç¹ä½“ä¸­æ–‡ç­‰å°ä¼—è¯­è¨€ï¼Ÿ
- ðŸ¤– æƒ³è®© Claude/ChatGPT ç›´æŽ¥è°ƒç”¨ç¿»è¯‘èƒ½åŠ›ï¼Ÿ
- âš¡ éœ€è¦æ‰¹é‡ç¿»è¯‘å¤§é‡æ–‡æ¡£ï¼Ÿ

**TranslateGemma ä¸€æ¬¡æ€§è§£å†³æ‰€æœ‰é—®é¢˜ï¼**

| ç—›ç‚¹ | TranslateGemma æ–¹æ¡ˆ |
|------|---------------------|
| éšç§å®‰å…¨ | âœ… 100% æœ¬åœ°è¿è¡Œï¼Œæ•°æ®ä¸å‡ºæœåŠ¡å™¨ |
| æˆæœ¬æŽ§åˆ¶ | âœ… ä¸€æ¬¡éƒ¨ç½²ï¼Œæ— é™ä½¿ç”¨ï¼Œé›¶ API è´¹ç”¨ |
| è¯­è¨€æ”¯æŒ | âœ… 55 ç§è¯­è¨€ï¼ŒåŒ…æ‹¬ç²¤è¯­ã€ç¹ä½“ä¸­æ–‡ |
| AI é›†æˆ | âœ… MCP åè®®ï¼ŒClaude Desktop ç›´æŽ¥è°ƒç”¨ |
| æ‰¹é‡å¤„ç† | âœ… æ–‡ä»¶ç¿»è¯‘ã€ç›®å½•æ‰¹é‡ã€æµå¼è¾“å‡º |

---

## âœ¨ åŠŸèƒ½å…¨æ™¯å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TranslateGemma v1.0.0                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   ðŸŒ Web UI          ðŸ”Œ REST API       ðŸ¤– MCP Server        â”‚
â”‚   â”œâ”€ æ·±è‰²/æµ…è‰²ä¸»é¢˜    â”œâ”€ /translate     â”œâ”€ translate_text   â”‚
â”‚   â”œâ”€ å®žæ—¶ç¿»è¯‘ç»Ÿè®¡    â”œâ”€ /stream        â”œâ”€ translate_batch  â”‚
â”‚   â”œâ”€ æ¨¡åž‹åˆ‡æ¢        â”œâ”€ /batch         â”œâ”€ translate_file   â”‚
â”‚   â”œâ”€ GPU ç›‘æŽ§        â”œâ”€ /gpu/status    â”œâ”€ list_languages   â”‚
â”‚   â””â”€ æ–‡ä»¶ä¸Šä¼         â””â”€ /models        â””â”€ switch_model     â”‚
â”‚                                                             â”‚
â”‚   ðŸ’» CLI å·¥å…·        ðŸ“¦ Docker é•œåƒ                         â”‚
â”‚   â”œâ”€ translate       â”œâ”€ v1.0.0-allinone (82GB, å…¨æ¨¡åž‹)     â”‚
â”‚   â”œâ”€ --file          â”œâ”€ v1.0.0 (10GB, æŒ‰éœ€ä¸‹è½½)            â”‚
â”‚   â”œâ”€ --stream        â””â”€ æ”¯æŒ docker-compose                â”‚
â”‚   â””â”€ --dir                                                  â”‚
â”‚                                                             â”‚
â”‚   ðŸŽ¯ 6 ä¸ªæ¨¡åž‹é…ç½®                                           â”‚
â”‚   â”œâ”€ 4B-Q4 (~3GB)  â”œâ”€ 12B-Q4 (~7GB)  â”œâ”€ 27B-Q4 (~15GB)    â”‚
â”‚   â””â”€ 4B-Q8 (~5GB)  â””â”€ 12B-Q8 (~12GB) â””â”€ 27B-Q8 (~28GB)    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ³ 30 ç§’æžé€Ÿéƒ¨ç½²

### æ–¹å¼ä¸€ï¼šAll-in-One Dockerï¼ˆæŽ¨èï¼‰

```bash
# æ‹‰å–é•œåƒï¼ˆ82GBï¼Œå†…ç½®å…¨éƒ¨ 6 ä¸ªæ¨¡åž‹ï¼‰
docker pull neosun/translategemma:v1.0.0-allinone

# ä¸€é”®å¯åŠ¨
docker run -d --gpus '"device=0"' \
  -p 8022:8022 \
  -e MODEL_NAME=27b \
  -e QUANTIZATION=8 \
  --name translategemma \
  neosun/translategemma:v1.0.0-allinone

# æ‰“å¼€æµè§ˆå™¨
open http://localhost:8022
```

> ðŸ’¡ **å°è´´å£«**: All-in-One é•œåƒè™½ç„¶ 82GBï¼Œä½†åŒ…å«å…¨éƒ¨æ¨¡åž‹ï¼Œæ— éœ€è”ç½‘ä¸‹è½½ï¼Œé€‚åˆå†…ç½‘çŽ¯å¢ƒï¼

### æ–¹å¼äºŒï¼šè½»é‡ç‰ˆ + æŒ‰éœ€ä¸‹è½½

```bash
# æ‹‰å–è½»é‡é•œåƒï¼ˆ10GBï¼‰
docker pull neosun/translategemma:latest

# å¯åŠ¨ï¼ˆé¦–æ¬¡ä½¿ç”¨æ—¶è‡ªåŠ¨ä¸‹è½½æ¨¡åž‹ï¼‰
docker run -d --gpus '"device=0"' \
  -p 8022:8022 \
  -v ~/.cache/translate/models:/root/.cache/translate/models \
  --name translategemma \
  neosun/translategemma:latest
```

### æ–¹å¼ä¸‰ï¼šDocker Compose

```yaml
# docker-compose.yml
services:
  translategemma:
    image: neosun/translategemma:v1.0.0-allinone
    container_name: translategemma
    ports:
      - "8022:8022"
    environment:
      - NVIDIA_VISIBLE_DEVICES=0
      - MODEL_NAME=27b
      - QUANTIZATION=8
      - GPU_IDLE_TIMEOUT=0
      - MAX_CHUNK_LENGTH=100
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              device_ids: ["0"]
              capabilities: [gpu]
```

```bash
docker-compose up -d
```

---

## ðŸ”¥ å››å¤§ä½¿ç”¨æ–¹å¼è¯¦è§£

### 1ï¸âƒ£ Web UI - æœ€ç›´è§‚çš„ç¿»è¯‘ä½“éªŒ

è®¿é—® `http://localhost:8022`ï¼Œä½ å°†çœ‹åˆ°ä¸€ä¸ªç²¾ç¾Žçš„ç¿»è¯‘ç•Œé¢ï¼š

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- ðŸŽ¨ **æ·±è‰²/æµ…è‰²ä¸»é¢˜** - ä¸€é”®åˆ‡æ¢ï¼Œä¿æŠ¤çœ¼ç›
- ðŸ”„ **è¯­è¨€äº¤æ¢** - å¿«é€Ÿåˆ‡æ¢æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€
- ðŸ“Š **å®žæ—¶ç»Ÿè®¡** - æ˜¾ç¤ºç¿»è¯‘è€—æ—¶ã€å­—ç¬¦æ•°ã€åˆ†æ®µæ•°
- âš™ï¸ **é«˜çº§å‚æ•°** - è°ƒæ•´ chunk_sizeã€overlapã€max_tokens
- ðŸ“ **æ–‡ä»¶ä¸Šä¼ ** - æ‹–æ‹½ä¸Šä¼  txt/md æ–‡ä»¶
- ðŸ”¥ **GPU ç›‘æŽ§** - å®žæ—¶æ˜¾ç¤ºæ˜¾å­˜å ç”¨

### 2ï¸âƒ£ REST API - ç¨‹åºåŒ–è°ƒç”¨

```bash
# ç®€å•ç¿»è¯‘
curl -X POST http://localhost:8022/api/translate \
  -H "Content-Type: application/json" \
  -d '{"text": "Hello world", "target_lang": "zh"}'

# å“åº”
{
  "status": "success",
  "result": "ä½ å¥½ï¼Œä¸–ç•Œ",
  "source_lang": "en",
  "target_lang": "zh",
  "elapsed_ms": 1234,
  "model": "27B-Q8"
}
```

**æµå¼ç¿»è¯‘ï¼ˆé•¿æ–‡æœ¬æŽ¨èï¼‰ï¼š**

```bash
curl -X POST http://localhost:8022/api/translate/stream \
  -H "Content-Type: application/json" \
  -d '{"text": "é•¿æ–‡æœ¬...", "target_lang": "en"}'
```

**æ‰¹é‡ç¿»è¯‘ï¼š**

```bash
curl -X POST http://localhost:8022/api/translate/batch \
  -H "Content-Type: application/json" \
  -d '{
    "texts": ["ä½ å¥½", "ä¸–ç•Œ", "äººå·¥æ™ºèƒ½"],
    "target_lang": "en"
  }'
```

**API ç«¯ç‚¹é€ŸæŸ¥è¡¨ï¼š**

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/translate` | POST | ç¿»è¯‘æ–‡æœ¬ |
| `/api/translate/stream` | POST | æµå¼ç¿»è¯‘ |
| `/api/translate/batch` | POST | æ‰¹é‡ç¿»è¯‘ |
| `/api/translate/file` | POST | æ–‡ä»¶ç¿»è¯‘ |
| `/api/models` | GET | æ¨¡åž‹åˆ—è¡¨ |
| `/api/models/switch` | POST | åˆ‡æ¢æ¨¡åž‹ |
| `/api/languages` | GET | è¯­è¨€åˆ—è¡¨ |
| `/api/gpu/status` | GET | GPU çŠ¶æ€ |
| `/api/gpu/offload` | POST | é‡Šæ”¾æ˜¾å­˜ |
| `/health` | GET | å¥åº·æ£€æŸ¥ |

### 3ï¸âƒ£ MCP é›†æˆ - è®© Claude ç›´æŽ¥ç¿»è¯‘

**é…ç½® Claude Desktopï¼š**

```json
{
  "mcpServers": {
    "translategemma": {
      "command": "docker",
      "args": ["exec", "-i", "translategemma", "python", "mcp_server.py"]
    }
  }
}
```

**ç„¶åŽä½ å¯ä»¥è¿™æ ·å¯¹ Claude è¯´ï¼š**

> "è¯·å¸®æˆ‘æŠŠè¿™æ®µä¸­æ–‡ç¿»è¯‘æˆæ—¥è¯­ï¼šäººå·¥æ™ºèƒ½æ­£åœ¨æ”¹å˜ä¸–ç•Œ"

Claude ä¼šè‡ªåŠ¨è°ƒç”¨ TranslateGemma å®Œæˆç¿»è¯‘ï¼

**MCP å·¥å…·åˆ—è¡¨ï¼š**

| å·¥å…· | åŠŸèƒ½ |
|------|------|
| `translate_text` | ç¿»è¯‘æ–‡æœ¬ |
| `translate_batch` | æ‰¹é‡ç¿»è¯‘ |
| `translate_file` | æ–‡ä»¶ç¿»è¯‘ |
| `list_languages` | è¯­è¨€åˆ—è¡¨ |
| `list_models` | æ¨¡åž‹åˆ—è¡¨ |
| `switch_model` | åˆ‡æ¢æ¨¡åž‹ |
| `get_gpu_status` | GPU çŠ¶æ€ |
| `release_gpu` | é‡Šæ”¾æ˜¾å­˜ |

### 4ï¸âƒ£ CLI å·¥å…· - å‘½ä»¤è¡Œçˆ±å¥½è€…çš„æœ€çˆ±

```bash
# è¿›å…¥å®¹å™¨
docker exec -it translategemma bash

# ç®€å•ç¿»è¯‘
translate --text "Hello world"

# æŒ‡å®šç›®æ ‡è¯­è¨€
translate --text "ä½ å¥½" --to ja

# ç¿»è¯‘æ–‡ä»¶
translate --file document.txt --output translated.txt

# æµå¼è¾“å‡º
translate --file long_article.txt --stream

# æ‰¹é‡ç¿»è¯‘ç›®å½•
translate --dir ./documents

# äº¤äº’æ¨¡å¼
translate
> Hello
[enâ†’zh] ä½ å¥½
> /to ja
> Hello
[enâ†’ja] ã“ã‚“ã«ã¡ã¯
> /quit
```

---

## ðŸ“Š æ€§èƒ½å®žæµ‹ï¼š9 ä¸ªæ¨¡åž‹é…ç½®å…¨å¯¹æ¯”

æˆ‘ä»¬åœ¨ **NVIDIA L40S 46GB** ä¸Šè¿›è¡Œäº†å®Œæ•´çš„åŸºå‡†æµ‹è¯•ï¼š

### é€Ÿåº¦æŽ’å

| æŽ’å | æ¨¡åž‹ | é€Ÿåº¦ | è´¨é‡ | æ˜¾å­˜ | æŽ¨èåœºæ™¯ |
|------|------|------|------|------|----------|
| ðŸ¥‡ | **4B-Q4** | 665 å­—ç¬¦/ç§’ | â­â­â­ | ~3GB | å®žæ—¶ç¿»è¯‘ |
| ðŸ¥ˆ | **4B-Q8** | 544 å­—ç¬¦/ç§’ | â­â­â­â­ | ~5GB | æ—¥å¸¸ä½¿ç”¨ |
| ðŸ¥‰ | **12B-Q4** | 319 å­—ç¬¦/ç§’ | â­â­â­â­ | ~7GB | **æœ€ä½³æ€§ä»·æ¯”** â­ |
| 4 | **12B-Q8** | 223 å­—ç¬¦/ç§’ | â­â­â­â­â­ | ~12GB | è´¨é‡ä¼˜å…ˆ |
| 5 | **27B-Q4** | 159 å­—ç¬¦/ç§’ | â­â­â­â­â­ | ~15GB | ä¸“ä¸šç¿»è¯‘ |
| 6 | **27B-Q8** | 102 å­—ç¬¦/ç§’ | â­â­â­â­â­ | ~28GB | **æœ€é«˜è´¨é‡** â­ |

### ç¿»è¯‘è´¨é‡å¯¹æ¯”

**æµ‹è¯•æ–‡æœ¬**: "I love programming and artificial intelligence."

| æ¨¡åž‹ | ç¿»è¯‘ç»“æžœ | è¯„ä»· |
|------|----------|------|
| 4B | æˆ‘éžå¸¸å–œæ¬¢ç¼–ç¨‹å’Œäººå·¥æ™ºèƒ½ã€‚ | âœ… æ·»åŠ ç¨‹åº¦å‰¯è¯ |
| 12B | **æˆ‘çƒ­çˆ±ç¼–ç¨‹å’Œäººå·¥æ™ºèƒ½ã€‚** | â­ æœ€å‡†ç¡® (love=çƒ­çˆ±) |
| 27B | æˆ‘å–œæ¬¢ç¼–ç¨‹å’Œäººå·¥æ™ºèƒ½ã€‚ | âœ… ç®€æ´ |

> ðŸ’¡ **å‘çŽ°**: 12B æ¨¡åž‹å¯¹ "love" çš„ç¿»è¯‘æœ€å‡†ç¡®ï¼Œä½¿ç”¨äº†"çƒ­çˆ±"è€Œéž"å–œæ¬¢"ï¼

### æ˜¾å­˜é€‰æ‹©æŒ‡å—

| å¯ç”¨æ˜¾å­˜ | æŽ¨èæ¨¡åž‹ | è¯´æ˜Ž |
|----------|----------|------|
| 4-6 GB | 4B-Q4 | å…¥é—¨çº§ GPU |
| 8-12 GB | 12B-Q4 | ä¸»æµæ¸¸æˆå¡ |
| 16-24 GB | 27B-Q4 | ä¸“ä¸šå¡ |
| 24+ GB | 27B-Q8 | é«˜ç«¯å¡ |

---

## ðŸ”¬ æ·±åº¦ç ”ç©¶ï¼šæ™ºèƒ½åˆ†å—ä¸Žä¸Šä¸‹æ–‡ä¸€è‡´æ€§

### æ ¸å¿ƒå‘çŽ°ï¼šchunk_size=100 æ˜¯å®‰å…¨è¾¹ç•Œ

æˆ‘ä»¬è¿›è¡Œäº†å¤§é‡æµ‹è¯•ï¼Œå‘çŽ° TranslateGemma åœ¨å¤„ç†é•¿æ–‡æœ¬æ—¶å­˜åœ¨æˆªæ–­é—®é¢˜ï¼š

| chunk_size | ç¿»è¯‘å®Œæ•´åº¦ | çŠ¶æ€ |
|------------|-----------|------|
| 80 | 100% | âœ… å®‰å…¨ |
| **100** | **100%** | âœ… **æŽ¨è** |
| 120 | 44-56% | âŒ æˆªæ–­ |
| 150 | 44-56% | âŒ ä¸¥é‡æˆªæ–­ |

> âš ï¸ **é‡è¦**: è¶…è¿‡ 100 å­—ç¬¦çš„ chunk ä¼šè§¦å‘æ¨¡åž‹æå‰ç»ˆæ­¢ï¼Œå¯¼è‡´å†…å®¹ä¸¢å¤±ï¼

### æ»‘åŠ¨çª—å£æµ‹è¯•ç»“æžœ

| åœºæ™¯ | æ—  overlap | æœ‰ overlap | ç»“è®º |
|------|-----------|------------|------|
| chunkâ‰¤100 å®Œæ•´åº¦ | 100% | 100% | æ— å·®å¼‚ |
| ç¿»è¯‘ä¸€è‡´æ€§ | è‰¯å¥½ | è‰¯å¥½ | æ— æ˜¾è‘—å·®å¼‚ |
| é‡å¤å†…å®¹ | æ—  | æœ‰ (~18%) | overlap å¯¼è‡´é‡å¤ |

### ä¸Šä¸‹æ–‡ä¸€è‡´æ€§æµ‹è¯•

**æƒŠå–œå‘çŽ°**: TranslateGemma è‡ªåŠ¨ç»´æŠ¤è·¨ chunk çš„ä¸€è‡´æ€§ï¼

| æµ‹è¯•é¡¹ | æ—  overlap | æœ‰ overlap | ç»“è®º |
|--------|-----------|------------|------|
| ä»£è¯ä¸€è‡´æ€§ (He/His) | âœ… ä¸€è‡´ | âœ… ä¸€è‡´ | æ¨¡åž‹è‡ªåŠ¨å¤„ç† |
| æœ¯è¯­ä¸€è‡´æ€§ (NLP) | âœ… ä¸€è‡´ | âœ… ä¸€è‡´ | æ¨¡åž‹è‡ªåŠ¨å¤„ç† |
| ä¸“æœ‰åè¯ (Google) | âœ… ä¸€è‡´ | âœ… ä¸€è‡´ | æ¨¡åž‹è‡ªåŠ¨å¤„ç† |

> ðŸ’¡ **ç»“è®º**: é»˜è®¤ `overlap=0` å³å¯ï¼ŒTranslateGemma ä¼šè‡ªåŠ¨ä¿æŒä¸Šä¸‹æ–‡ä¸€è‡´æ€§ï¼

### æœ€ä½³é…ç½®

```env
MODEL_NAME=27b
QUANTIZATION=8
MAX_CHUNK_LENGTH=100    # å¿…é¡» â‰¤ 100
DEFAULT_OVERLAP=0       # é»˜è®¤å…³é—­
GPU_IDLE_TIMEOUT=0      # ç¿»è¯‘åŽç«‹å³é‡Šæ”¾æ˜¾å­˜
```

---

## ðŸŒ 55 ç§è¯­è¨€å…¨æ”¯æŒ

TranslateGemma æ”¯æŒ Google ç¿»è¯‘çš„å…¨éƒ¨ 55 ç§è¯­è¨€ï¼š

| ä»£ç  | è¯­è¨€ | ä»£ç  | è¯­è¨€ | ä»£ç  | è¯­è¨€ |
|------|------|------|------|------|------|
| `en` | English | `zh` | ç®€ä½“ä¸­æ–‡ | `zh-TW` | ç¹ä½“ä¸­æ–‡ |
| `ja` | æ—¥è¯­ | `ko` | éŸ©è¯­ | `yue` | **ç²¤è¯­** â­ |
| `fr` | æ³•è¯­ | `de` | å¾·è¯­ | `es` | è¥¿ç­ç‰™è¯­ |
| `pt` | è‘¡è„ç‰™è¯­ | `ru` | ä¿„è¯­ | `ar` | é˜¿æ‹‰ä¼¯è¯­ |
| `hi` | å°åœ°è¯­ | `th` | æ³°è¯­ | `vi` | è¶Šå—è¯­ |

> ðŸ’¡ **äº®ç‚¹**: æ”¯æŒç²¤è¯­ (`yue`)ï¼è¿™æ˜¯å¾ˆå¤šç¿»è¯‘æœåŠ¡ä¸æ”¯æŒçš„è¯­è¨€ã€‚

---

## ðŸ“ é¡¹ç›®ç»“æž„

```
translategemma/
â”œâ”€â”€ app_fastapi.py          # FastAPI æœåŠ¡å™¨ï¼ˆæ ¸å¿ƒï¼‰
â”œâ”€â”€ mcp_server.py           # MCP æœåŠ¡å™¨
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html          # Web UIï¼ˆ30KB å•æ–‡ä»¶ï¼‰
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ app.js              # å‰ç«¯é€»è¾‘
â”‚   â””â”€â”€ style.css           # æ ·å¼
â”œâ”€â”€ translategemma_cli/     # CLI æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ translator.py       # ç¿»è¯‘å¼•æ“Ž
â”‚   â”œâ”€â”€ chunker.py          # æ™ºèƒ½åˆ†å—å™¨
â”‚   â”œâ”€â”€ model.py            # æ¨¡åž‹ç®¡ç†
â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ backends.py         # å¤šåŽç«¯æ”¯æŒ
â”œâ”€â”€ Dockerfile              # æ ‡å‡†é•œåƒ
â”œâ”€â”€ Dockerfile.allinone     # All-in-One é•œåƒ
â”œâ”€â”€ docker-compose.yml      # Compose é…ç½®
â”œâ”€â”€ tests/                  # æµ‹è¯•å¥—ä»¶
â”‚   â””â”€â”€ integration/        # é›†æˆæµ‹è¯•
â””â”€â”€ docs/                   # æ–‡æ¡£
    â””â”€â”€ CHUNKING_RESEARCH_REPORT.md  # åˆ†å—ç ”ç©¶æŠ¥å‘Š
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: æ˜¾å­˜ä¸è¶³æ€Žä¹ˆåŠžï¼Ÿ

```bash
# ä½¿ç”¨æ›´å°çš„æ¨¡åž‹
docker run -d --gpus all \
  -e MODEL_NAME=4b \
  -e QUANTIZATION=4 \
  ...

# æˆ–é‡Šæ”¾æ˜¾å­˜åŽé‡è¯•
curl -X POST http://localhost:8022/api/gpu/offload
```

### Q2: ç¿»è¯‘ä¸å®Œæ•´ï¼Ÿ

ç¡®ä¿ `MAX_CHUNK_LENGTH=100`ï¼ˆä¸è¦è¶…è¿‡ 100ï¼‰ï¼š

```bash
docker run -d --gpus all \
  -e MAX_CHUNK_LENGTH=100 \
  ...
```

### Q3: å¦‚ä½•åˆ‡æ¢æ¨¡åž‹ï¼Ÿ

```bash
# API æ–¹å¼
curl -X POST http://localhost:8022/api/models/switch \
  -H "Content-Type: application/json" \
  -d '{"model": "12B-Q4"}'

# Web UI æ–¹å¼
# ç›´æŽ¥ç‚¹å‡»æ¨¡åž‹å¡ç‰‡å³å¯åˆ‡æ¢
```

### Q4: æ”¯æŒ CPU è¿è¡Œå—ï¼Ÿ

æ”¯æŒï¼Œä½†é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼ˆçº¦ 1-5 å­—ç¬¦/ç§’ï¼‰ã€‚å»ºè®®è‡³å°‘ä½¿ç”¨ 4GB æ˜¾å­˜çš„ GPUã€‚

### Q5: å¦‚ä½•åœ¨å†…ç½‘çŽ¯å¢ƒéƒ¨ç½²ï¼Ÿ

ä½¿ç”¨ All-in-One é•œåƒï¼Œå®ƒåŒ…å«å…¨éƒ¨æ¨¡åž‹ï¼Œæ— éœ€è”ç½‘ï¼š

```bash
# åœ¨æœ‰ç½‘ç»œçš„æœºå™¨ä¸Š
docker save neosun/translategemma:v1.0.0-allinone > translategemma.tar

# ä¼ è¾“åˆ°å†…ç½‘æœºå™¨
docker load < translategemma.tar
```

---

## ðŸ› ï¸ æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/neosun100/translategemma.git
cd translategemma

# åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
python -m venv .venv
source .venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -e ".[cuda]"

# å¯åŠ¨æœåŠ¡
uvicorn app_fastapi:app --host 0.0.0.0 --port 8022
```

---

## ðŸ“š å‚è€ƒèµ„æ–™

1. [TranslateGemma GitHub ä»“åº“](https://github.com/neosun100/translategemma)
2. [Docker Hub é•œåƒ](https://hub.docker.com/r/neosun/translategemma)
3. [Google TranslateGemma è®ºæ–‡](https://arxiv.org/pdf/2601.09012)
4. [TranslateGemma HuggingFace](https://huggingface.co/google/translategemma-27b-it)
5. [llama-cpp-python](https://github.com/abetlen/llama-cpp-python)
6. [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com/)

---

ðŸ’¬ **äº’åŠ¨æ—¶é—´**ï¼š
å¯¹æœ¬æ–‡æœ‰ä»»ä½•æƒ³æ³•æˆ–ç–‘é—®ï¼Ÿæ¬¢è¿Žåœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼
å¦‚æžœè§‰å¾—æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹ä¸ª"åœ¨çœ‹"å¹¶åˆ†äº«ç»™éœ€è¦çš„æœ‹å‹ï½ž

![æ‰«ç _æœç´¢è”åˆä¼ æ’­æ ·å¼-æ ‡å‡†è‰²ç‰ˆ](https://img.aws.xin/uPic/æ‰«ç _æœç´¢è”åˆä¼ æ’­æ ·å¼-æ ‡å‡†è‰²ç‰ˆ.png)

ðŸ‘† æ‰«ç å…³æ³¨ï¼ŒèŽ·å–æ›´å¤šç²¾å½©å†…å®¹
