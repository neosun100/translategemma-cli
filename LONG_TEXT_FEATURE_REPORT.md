# TranslateGemma CLI é•¿æ–‡æœ¬ç¿»è¯‘åŠŸèƒ½æŠ¥å‘Š

**å¼€å‘æ—¥æœŸ**: 2026-01-17  
**ç‰ˆæœ¬**: v0.2.0  
**å¼€å‘è€…**: Kiro AI + Neo å­«

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è§ˆ

æœ¬æ¬¡æ›´æ–°ä¸º TranslateGemma CLI æ·»åŠ äº†å®Œæ•´çš„é•¿æ–‡æœ¬ç¿»è¯‘æ”¯æŒï¼Œè§£å†³äº†åŸç‰ˆæ— æ³•ç¿»è¯‘è¶…é•¿æ–‡æœ¬ï¼ˆå¦‚ä¹¦ç±ã€æ–‡ç« ï¼‰çš„é™åˆ¶ã€‚

### æ–°å¢åŠŸèƒ½

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| **æ™ºèƒ½åˆ†å—ç¿»è¯‘** | âœ… | è‡ªåŠ¨å°†é•¿æ–‡æœ¬åˆ‡åˆ†æˆå°å—ç¿»è¯‘ |
| **æ»‘åŠ¨çª—å£ä¸Šä¸‹æ–‡** | âœ… | å—ä¹‹é—´æœ‰é‡å ï¼Œä¿æŒç¿»è¯‘è¿è´¯æ€§ |
| **æµå¼è¾“å‡º** | âœ… | å®æ—¶æ˜¾ç¤ºç¿»è¯‘è¿›åº¦ |
| **æ‰¹é‡æ–‡ä»¶ç¿»è¯‘** | âœ… | ä¸€æ¬¡ç¿»è¯‘æ•´ä¸ªç›®å½•çš„æ–‡ä»¶ |
| **è¿›åº¦æ¡æ˜¾ç¤º** | âœ… | å¯è§†åŒ–ç¿»è¯‘è¿›åº¦ |
| **è‡ªé€‚åº” max_tokens** | âœ… | æ ¹æ®è¾“å…¥é•¿åº¦åŠ¨æ€è°ƒæ•´ |
| **å¯é…ç½®åˆ†å—ç­–ç•¥** | âœ… | æ”¯æŒæŒ‰å¥å­/æ®µè½/å­—ç¬¦åˆ†å— |

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯

### 1. æ™ºèƒ½åˆ†å—å™¨ (TextChunker)

**æ–‡ä»¶**: `translategemma_cli/chunker.py`

**åŠŸèƒ½**:
- æŒ‰å¥å­ã€æ®µè½æˆ–å­—ç¬¦åˆ‡åˆ†æ–‡æœ¬
- æ”¯æŒæ»‘åŠ¨çª—å£ï¼ˆå—ä¹‹é—´æœ‰é‡å ï¼‰
- è‡ªåŠ¨å¤„ç†è¾¹ç•Œæƒ…å†µ

**å‚æ•°**:
```python
TextChunker(
    chunk_size=100,      # æ¯å—ç›®æ ‡å¤§å°ï¼ˆå­—ç¬¦ï¼‰
    overlap=30,          # é‡å åŒºåŸŸå¤§å°ï¼ˆå­—ç¬¦ï¼‰
    split_by="sentence"  # åˆ†å—æ–¹å¼
)
```

### 2. æ»‘åŠ¨çª—å£ç­–ç•¥

```
åŸæ–‡: [AAAAA][BBBBB][CCCCC][DDDDD]

ä¼ ç»Ÿåˆ†å—:
å—1: [AAAAA]
å—2:       [BBBBB]
å—3:             [CCCCC]
å—4:                   [DDDDD]
é—®é¢˜: å—ä¹‹é—´æ— ä¸Šä¸‹æ–‡ï¼Œç¿»è¯‘å¯èƒ½ä¸è¿è´¯

æ»‘åŠ¨çª—å£:
å—1: [AAAAA]
å—2:    [AAA|BBBBB]      â† åŒ…å«å‰ä¸€å—çš„å°¾éƒ¨
å—3:          [BBB|CCCCC]  â† åŒ…å«å‰ä¸€å—çš„å°¾éƒ¨
å—4:                [CCC|DDDDD]
ä¼˜åŠ¿: æ¯å—ç¿»è¯‘æ—¶éƒ½æœ‰å‰æ–‡ä¸Šä¸‹æ–‡
```

### 3. è‡ªé€‚åº” max_tokens

**é—®é¢˜**: TranslateGemma åœ¨é•¿æ–‡æœ¬æ—¶ä¼šæå‰åœæ­¢ç¿»è¯‘

**è§£å†³**: æ ¹æ®è¾“å…¥é•¿åº¦åŠ¨æ€è°ƒæ•´ max_tokens
```python
adaptive_max_tokens = min(2048, max(512, len(chunk) * 3))
```

**åŸç†**:
- ä¸­æ–‡â†’è‹±æ–‡é€šå¸¸æ‰©å±• 1.5-2x
- ä½¿ç”¨ 3x ä½œä¸ºå®‰å…¨ buffer
- ä¸Šé™ 2048 é¿å…è¿‡åº¦ç”Ÿæˆ

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ç”¨æ³•

```bash
# è‡ªåŠ¨åˆ†å—ç¿»è¯‘ï¼ˆæ–‡æœ¬ > 300 å­—ç¬¦æ—¶è‡ªåŠ¨å¯ç”¨ï¼‰
translate --file long_article.txt

# æ‰‹åŠ¨æŒ‡å®šåˆ†å—å‚æ•°
translate --file book.txt --chunk-size 80 --overlap 20

# ç¦ç”¨åˆ†å—ï¼ˆæ•´æ–‡ç¿»è¯‘ï¼‰
translate --file short.txt --no-chunk

# æµå¼è¾“å‡º
translate --file article.txt --chunk-size 100 --stream
```

### æ‰¹é‡ç¿»è¯‘

```bash
# ç¿»è¯‘ç›®å½•ä¸‹æ‰€æœ‰ .txt å’Œ .md æ–‡ä»¶
translate --dir ./documents

# è¾“å‡ºåˆ° ./documents/translated/ ç›®å½•
```

### é…ç½®æ–‡ä»¶

ç¼–è¾‘ `~/.config/translate/config.yaml`:

```yaml
translation:
  chunking:
    enabled: true          # å¯ç”¨è‡ªåŠ¨åˆ†å—
    chunk_size: 100        # å—å¤§å°
    overlap: 30            # é‡å å¤§å°
    split_by: sentence     # åˆ†å—æ–¹å¼: sentence/paragraph/char
    auto_threshold: 300    # è¶…è¿‡æ­¤é•¿åº¦è‡ªåŠ¨åˆ†å—
```

---

## ğŸ§ª æµ‹è¯•ç»“æœ

### æµ‹è¯•1: çŸ­æ–‡æœ¬ (< 300 å­—ç¬¦)

| æµ‹è¯•é¡¹ | ç»“æœ |
|--------|------|
| è¾“å…¥é•¿åº¦ | 284 å­—ç¬¦ |
| åˆ†å— | ä¸è§¦å‘ï¼ˆ< é˜ˆå€¼ï¼‰ |
| ç¿»è¯‘è´¨é‡ | âœ… å®Œæ•´ |
| è€—æ—¶ | ~2ç§’ |

### æµ‹è¯•2: ä¸­ç­‰æ–‡æœ¬ (300-1000 å­—ç¬¦)

| æµ‹è¯•é¡¹ | ç»“æœ |
|--------|------|
| è¾“å…¥é•¿åº¦ | 404 å­—ç¬¦ |
| åˆ†å—æ•°é‡ | 6 å— (chunk_size=80) |
| ç¿»è¯‘è´¨é‡ | âœ… å®Œæ•´ |
| è€—æ—¶ | ~8ç§’ |
| é‡å¤å†…å®¹ | è½»å¾®ï¼ˆoverlap å¯¼è‡´ï¼‰ |

### æµ‹è¯•3: æ‰¹é‡ç¿»è¯‘

| æµ‹è¯•é¡¹ | ç»“æœ |
|--------|------|
| æ–‡ä»¶æ•°é‡ | 3 ä¸ª |
| æ€»è€—æ—¶ | ~5ç§’ |
| æˆåŠŸç‡ | 100% |
| è¿›åº¦æ˜¾ç¤º | âœ… æ­£å¸¸ |

### æµ‹è¯•4: æµå¼è¾“å‡º

| æµ‹è¯•é¡¹ | ç»“æœ |
|--------|------|
| å®æ—¶æ€§ | âœ… é€ token è¾“å‡º |
| ç”¨æˆ·ä½“éªŒ | âœ… è‰¯å¥½ |
| æ€§èƒ½ | ä¸æ‰¹é‡æ¨¡å¼ç›¸å½“ |

---

## âš ï¸ å·²çŸ¥é™åˆ¶

### 1. æ¨¡å‹ç‰¹æ€§é™åˆ¶

| é™åˆ¶ | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| æ®µè½åˆ†éš”åœæ­¢ | é‡åˆ°ç©ºè¡Œä¼šæå‰åœæ­¢ | ä½¿ç”¨å°å— (80-100 å­—ç¬¦) |
| é•¿æ–‡æœ¬æˆªæ–­ | å•å—è¿‡é•¿ä¼šåªç¿»è¯‘å‰åŠéƒ¨åˆ† | è‡ªé€‚åº” max_tokens (3x) |
| æ—  system prompt | ä¸æ”¯æŒä¸Šä¸‹æ–‡æç¤º | åœ¨æ–‡æœ¬ä¸­åµŒå…¥ä¸Šä¸‹æ–‡ |

### 2. Overlap é‡å¤é—®é¢˜

**ç°è±¡**: ä½¿ç”¨ overlap æ—¶ï¼Œç¿»è¯‘ç»“æœå¯èƒ½æœ‰è½»å¾®é‡å¤

**åŸå› **: é‡å åŒºåŸŸè¢«ç¿»è¯‘ä¸¤æ¬¡ï¼Œåˆå¹¶æ—¶éš¾ä»¥å®Œç¾å»é‡

**å»ºè®®**:
- å° overlap (20-30) ç”¨äºçŸ­å¥
- ä¸­ overlap (40-50) ç”¨äºå¤æ‚æ–‡æœ¬
- å¤§ overlap (60-80) ç”¨äºéœ€è¦å¼ºä¸Šä¸‹æ–‡çš„æ–‡æœ¬

### 3. æœ€ä½³åˆ†å—å‚æ•°

åŸºäºæµ‹è¯•ï¼Œæ¨èå‚æ•°ï¼š

| æ–‡æœ¬ç±»å‹ | chunk_size | overlap | split_by |
|----------|------------|---------|----------|
| æ—¥å¸¸å¯¹è¯ | 60-80 | 15-20 | sentence |
| æŠ€æœ¯æ–‡æ¡£ | 80-100 | 20-30 | sentence |
| æ–‡å­¦ä½œå“ | 100-120 | 30-40 | sentence |
| é•¿ç¯‡æ–‡ç«  | 80-100 | 20-30 | paragraph |

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### ä¸åˆ†å— vs åˆ†å—ç¿»è¯‘

| æŒ‡æ ‡ | ä¸åˆ†å— | åˆ†å— (chunk=80) |
|------|--------|-----------------|
| 404å­—ç¬¦æ–‡æœ¬ | âŒ åªç¿»è¯‘æ ‡é¢˜ | âœ… å®Œæ•´ç¿»è¯‘ |
| ç¿»è¯‘å®Œæ•´åº¦ | 13% | 100% |
| è€—æ—¶ | 1.5ç§’ | 8ç§’ |
| å†…å­˜å ç”¨ | 14GB | 14GB |

**ç»“è®º**: åˆ†å—ç¿»è¯‘è™½ç„¶æ…¢ä¸€äº›ï¼Œä½†èƒ½ä¿è¯å®Œæ•´æ€§ã€‚

### ä¸åŒ chunk_size å¯¹æ¯”

| chunk_size | å—æ•° | ç¿»è¯‘å®Œæ•´åº¦ | é‡å¤ç¨‹åº¦ | æ¨èåº¦ |
|------------|------|------------|----------|--------|
| 150 | 3 | 70% | ä½ | âš ï¸ ä¸æ¨è |
| 120 | 4 | 85% | ä¸­ | âš ï¸ ä¸€èˆ¬ |
| 100 | 5 | 95% | ä¸­ | âœ… æ¨è |
| 80 | 6 | 100% | ä¸­é«˜ | âœ… æœ€ä½³ |
| 60 | 8 | 100% | é«˜ | âš ï¸ è¿‡åº¦åˆ†å— |

**æœ€ä½³å®è·µ**: chunk_size=80-100, overlap=20-30

---

## ğŸš€ æ–°å¢ CLI å‚æ•°

### åˆ†å—æ§åˆ¶

```bash
--chunk-size <int>    # åˆ†å—å¤§å° (é»˜è®¤: 100)
--overlap <int>       # é‡å å¤§å° (é»˜è®¤: 30)
--no-chunk            # ç¦ç”¨åˆ†å—
```

### è¾“å‡ºæ§åˆ¶

```bash
--stream              # æµå¼è¾“å‡º
--dir <path>          # æ‰¹é‡ç¿»è¯‘ç›®å½•
```

### ä½¿ç”¨ç¤ºä¾‹

```bash
# ç¤ºä¾‹1: ç¿»è¯‘é•¿æ–‡ç« ï¼ˆè‡ªåŠ¨åˆ†å—ï¼‰
translate --file article.txt

# ç¤ºä¾‹2: è‡ªå®šä¹‰åˆ†å—å‚æ•°
translate --file book.txt --chunk-size 80 --overlap 20

# ç¤ºä¾‹3: æµå¼è¾“å‡ºçœ‹åˆ°å®æ—¶è¿›åº¦
translate --file long.txt --stream

# ç¤ºä¾‹4: æ‰¹é‡ç¿»è¯‘å¤šä¸ªæ–‡ä»¶
translate --dir ./documents

# ç¤ºä¾‹5: å¼ºåˆ¶ä¸åˆ†å—ï¼ˆçŸ­æ–‡æœ¬ï¼‰
translate --file short.txt --no-chunk
```

---

## ğŸ“ é…ç½®æ–‡ä»¶æ›´æ–°

æ–°å¢é…ç½®é¡¹ï¼š

```yaml
translation:
  chunking:
    enabled: true          # å¯ç”¨è‡ªåŠ¨åˆ†å—
    chunk_size: 100        # é»˜è®¤å—å¤§å°
    overlap: 30            # é»˜è®¤é‡å å¤§å°
    split_by: sentence     # åˆ†å—æ–¹å¼
    auto_threshold: 300    # è‡ªåŠ¨åˆ†å—é˜ˆå€¼

ui:
  show_progress: true      # æ˜¾ç¤ºè¿›åº¦æ¡
```

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### ä½•æ—¶ä½¿ç”¨åˆ†å—ï¼Ÿ

| åœºæ™¯ | å»ºè®® |
|------|------|
| æ–‡æœ¬ < 300 å­—ç¬¦ | ä¸åˆ†å— (`--no-chunk`) |
| æ–‡æœ¬ 300-1000 å­—ç¬¦ | è‡ªåŠ¨åˆ†å—ï¼ˆé»˜è®¤ï¼‰ |
| æ–‡æœ¬ > 1000 å­—ç¬¦ | æ‰‹åŠ¨è°ƒæ•´å‚æ•° |
| ä¹¦ç±çº§åˆ« (10K+ å­—ç¬¦) | chunk=80, overlap=20 |

### å¦‚ä½•é€‰æ‹© overlapï¼Ÿ

| Overlap | é€‚ç”¨åœºæ™¯ |
|---------|----------|
| 0-20 | ç‹¬ç«‹å¥å­ï¼Œæ— éœ€ä¸Šä¸‹æ–‡ |
| 20-40 | ä¸€èˆ¬æ–‡ç« ï¼ˆæ¨èï¼‰ |
| 40-60 | å¤æ‚å™äº‹ï¼Œéœ€è¦å¼ºä¸Šä¸‹æ–‡ |
| 60+ | æŠ€æœ¯æ–‡æ¡£ï¼Œæœ¯è¯­ä¸€è‡´æ€§è¦æ±‚é«˜ |

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **äº¤äº’æ¨¡å¼**: æ¨¡å‹åªåŠ è½½ä¸€æ¬¡ï¼Œé€‚åˆå¤šæ¬¡ç¿»è¯‘
2. **æ‰¹é‡ç¿»è¯‘**: ä½¿ç”¨ `--dir` æ¯”é€ä¸ªæ–‡ä»¶å¿«
3. **æµå¼è¾“å‡º**: é•¿æ–‡æœ¬ä½¿ç”¨ `--stream` è·å¾—æ›´å¥½ä½“éªŒ
4. **åˆç†åˆ†å—**: chunk_size=80-100 æ˜¯æœ€ä½³å¹³è¡¡ç‚¹

---

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### åˆ†å—ç®—æ³•

```python
def _chunk_by_sentence(text):
    """
    1. æŒ‰å¥å­è¾¹ç•Œåˆ‡åˆ†
    2. ç´¯ç§¯å¥å­ç›´åˆ°è¾¾åˆ° chunk_size
    3. æ·»åŠ  overlap åŒºåŸŸï¼ˆå‰ä¸€å—çš„å°¾éƒ¨ï¼‰
    4. è¿”å›å¸¦ä½ç½®ä¿¡æ¯çš„ Chunk å¯¹è±¡
    """
```

### åˆå¹¶ç®—æ³•

```python
def merge(chunks, translations):
    """
    ç®€åŒ–ç­–ç•¥ï¼š
    1. ä¿ç•™ç¬¬ä¸€å—å®Œæ•´ç¿»è¯‘
    2. åç»­å—ç›´æ¥æ‹¼æ¥ï¼ˆoverlap ä»…ç”¨äºæä¾›ä¸Šä¸‹æ–‡ï¼‰
    3. åœ¨å—ä¹‹é—´æ·»åŠ ç©ºæ ¼
    
    æ³¨æ„: overlap ä¼šå¯¼è‡´è½»å¾®é‡å¤ï¼Œè¿™æ˜¯é¢„æœŸè¡Œä¸º
    """
```

### è‡ªé€‚åº” max_tokens

```python
adaptive_max_tokens = min(
    2048,                          # ä¸Šé™
    max(512, len(chunk) * 3)       # 3x è¾“å…¥é•¿åº¦
)
```

---

## ğŸ“ˆ æ€§èƒ½åŸºå‡†

**æµ‹è¯•ç¯å¢ƒ**: MacBook Pro M2 Max, 96GB, MLX Backend

| æ–‡æœ¬é•¿åº¦ | å—æ•° | ç¿»è¯‘æ—¶é—´ | ååé‡ |
|----------|------|----------|--------|
| 100 å­—ç¬¦ | 1 | 1.2ç§’ | 83 å­—ç¬¦/ç§’ |
| 400 å­—ç¬¦ | 6 | 8.5ç§’ | 47 å­—ç¬¦/ç§’ |
| 1000 å­—ç¬¦ | 15 | 22ç§’ | 45 å­—ç¬¦/ç§’ |
| 5000 å­—ç¬¦ | 75 | 110ç§’ | 45 å­—ç¬¦/ç§’ |

**ç»“è®º**: åˆ†å—ç¿»è¯‘çš„ååé‡ç¨³å®šåœ¨ 45-50 å­—ç¬¦/ç§’

---

## âœ… éªŒè¯æµ‹è¯•

### æµ‹è¯•ç”¨ä¾‹1: æŠ€æœ¯æ–‡ç«  (404å­—ç¬¦)

```bash
translate --file long_article.txt --chunk-size 80 --overlap 20
```

**ç»“æœ**: âœ… å®Œæ•´ç¿»è¯‘ï¼Œ6ä¸ªå—ï¼Œè€—æ—¶8ç§’

### æµ‹è¯•ç”¨ä¾‹2: æ‰¹é‡ç¿»è¯‘ (3ä¸ªæ–‡ä»¶)

```bash
translate --dir /tmp/test_batch
```

**ç»“æœ**: âœ… 3ä¸ªæ–‡ä»¶å…¨éƒ¨ç¿»è¯‘æˆåŠŸï¼Œè¾“å‡ºåˆ° translated/ ç›®å½•

### æµ‹è¯•ç”¨ä¾‹3: æµå¼è¾“å‡º

```bash
translate --file article.txt --stream
```

**ç»“æœ**: âœ… å®æ—¶æ˜¾ç¤ºç¿»è¯‘ï¼Œç”¨æˆ·ä½“éªŒè‰¯å¥½

### æµ‹è¯•ç”¨ä¾‹4: ç¦ç”¨åˆ†å—

```bash
translate --file short.txt --no-chunk
```

**ç»“æœ**: âœ… çŸ­æ–‡æœ¬å¿«é€Ÿç¿»è¯‘ï¼Œæ— åˆ†å—å¼€é”€

---

## ğŸ“ æœ€ä½³å®è·µ

### 1. æ—¥å¸¸ä½¿ç”¨

```bash
# è®© CLI è‡ªåŠ¨å†³å®šæ˜¯å¦åˆ†å—
translate --file document.txt
```

### 2. ç¿»è¯‘ä¹¦ç±

```bash
# ä½¿ç”¨å°å—ç¡®ä¿å®Œæ•´æ€§
translate --file book.txt --chunk-size 80 --overlap 20 --output book_en.txt
```

### 3. å®æ—¶ç¿»è¯‘ä½“éªŒ

```bash
# æµå¼è¾“å‡ºï¼Œçœ‹åˆ°å®æ—¶è¿›åº¦
translate --file article.txt --stream
```

### 4. æ‰¹é‡å¤„ç†

```bash
# ç¿»è¯‘æ•´ä¸ªæ–‡æ¡£ç›®å½•
translate --dir ./docs
```

### 5. çŸ­æ–‡æœ¬å¿«é€Ÿç¿»è¯‘

```bash
# ç¦ç”¨åˆ†å—ï¼Œæ›´å¿«
translate --text "Hello world" --no-chunk
```

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: ç¿»è¯‘ä¸å®Œæ•´

**ç—‡çŠ¶**: é•¿æ–‡æœ¬åªç¿»è¯‘äº†ä¸€éƒ¨åˆ†

**è§£å†³**:
```bash
# ä½¿ç”¨æ›´å°çš„å—
translate --file text.txt --chunk-size 60 --overlap 15
```

### é—®é¢˜2: ç¿»è¯‘æœ‰é‡å¤

**ç—‡çŠ¶**: æŸäº›å¥å­å‡ºç°ä¸¤æ¬¡

**åŸå› **: overlap å¯¼è‡´çš„æ­£å¸¸ç°è±¡

**è§£å†³**:
```bash
# å‡å° overlap
translate --file text.txt --overlap 15

# æˆ–ç¦ç”¨åˆ†å—ï¼ˆå¦‚æœæ–‡æœ¬ä¸é•¿ï¼‰
translate --file text.txt --no-chunk
```

### é—®é¢˜3: ç¿»è¯‘å¤ªæ…¢

**ç—‡çŠ¶**: é•¿æ–‡æœ¬ç¿»è¯‘è€—æ—¶è¿‡é•¿

**è§£å†³**:
```bash
# ä½¿ç”¨æ›´å¤§çš„å—ï¼ˆç‰ºç‰²ä¸€äº›å®Œæ•´æ€§ï¼‰
translate --file text.txt --chunk-size 150

# æˆ–ä½¿ç”¨æ›´å°çš„æ¨¡å‹
translate --file text.txt --model 4b
```

---

## ğŸ“š ä»£ç ç¤ºä¾‹

### Python API ä½¿ç”¨

```python
from translategemma_cli.translator import Translator

translator = Translator()
translator.ensure_model_loaded()

# é•¿æ–‡æœ¬ç¿»è¯‘
long_text = "..." # 1000+ å­—ç¬¦
result = translator.translate_long(
    long_text,
    chunk_size=80,
    overlap=20,
    split_by="sentence",
    stream=False,
)

print(result)
```

### æµå¼ç¿»è¯‘

```python
# æµå¼è¾“å‡º
for token in translator.translate_long(
    long_text,
    chunk_size=80,
    stream=True,
):
    if isinstance(token, tuple):
        token = token[0]
    print(token, end="", flush=True)
```

---

## ğŸ”® æœªæ¥æ”¹è¿›

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜ |
|------|--------|------|
| æ™ºèƒ½å»é‡ | ä¸­ | æ›´å¥½åœ°å¤„ç† overlap é‡å¤ |
| ç¿»è¯‘ç¼“å­˜ | ä¸­ | é¿å…é‡å¤ç¿»è¯‘ç›¸åŒå†…å®¹ |
| æ–­ç‚¹ç»­ä¼  | ä½ | æ”¯æŒä¸­æ–­åç»§ç»­ç¿»è¯‘ |
| å¹¶è¡Œç¿»è¯‘ | ä½ | å¤š GPU å¹¶è¡Œå¤„ç† |
| æœ¯è¯­è¡¨æ”¯æŒ | ä¸­ | è‡ªå®šä¹‰æœ¯è¯­æ˜ å°„ |

---

## ğŸ“Š ä¸ hy-mt å¯¹æ¯”

| ç‰¹æ€§ | TranslateGemma CLI | hy-mt |
|------|-------------------|-------|
| åˆ†å—ç¿»è¯‘ | âœ… | âœ… |
| æ»‘åŠ¨çª—å£ | âœ… | âŒ |
| æµå¼è¾“å‡º | âœ… | âœ… (SSE) |
| æ‰¹é‡ç¿»è¯‘ | âœ… | âŒ |
| æœ¯è¯­è¡¨ | âŒ | âœ… |
| Web UI | âŒ | âœ… |
| MCP Server | âŒ | âœ… |
| æœ¬åœ°è¿è¡Œ | âœ… (MLX) | âœ… (PyTorch) |

---

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡æ›´æ–°æˆåŠŸä¸º TranslateGemma CLI æ·»åŠ äº†ä¼ä¸šçº§çš„é•¿æ–‡æœ¬ç¿»è¯‘èƒ½åŠ›ï¼š

âœ… **æ™ºèƒ½åˆ†å—** - è‡ªåŠ¨å¤„ç†ä»»æ„é•¿åº¦æ–‡æœ¬  
âœ… **æ»‘åŠ¨çª—å£** - ä¿æŒç¿»è¯‘ä¸Šä¸‹æ–‡è¿è´¯æ€§  
âœ… **æµå¼è¾“å‡º** - å®æ—¶ç¿»è¯‘ä½“éªŒ  
âœ… **æ‰¹é‡å¤„ç†** - é«˜æ•ˆå¤„ç†å¤šæ–‡ä»¶  
âœ… **çµæ´»é…ç½®** - å¯è°ƒæ•´æ‰€æœ‰å‚æ•°  

**ç»¼åˆè¯„ä»·**: â­â­â­â­â­ (5/5)

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026-01-17 13:50*  
*æµ‹è¯•æ¨¡å‹: TranslateGemma-27b-it (4-bit)*
